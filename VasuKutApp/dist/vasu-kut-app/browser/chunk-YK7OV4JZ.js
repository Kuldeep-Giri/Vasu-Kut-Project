import{a as Be,b as ze,c as je,d as He,e as Ge,f as Ke,g as qe,h as Qe,i as Ye,j as $e,k as Xe,l as Je,m as Ze,n as et,o as tt,p as nt,q as it,r as rt,s as at}from"./chunk-GGEJIR6V.js";import{a as G,b as lt}from"./chunk-MII7RVAI.js";import{a as Fe,b as Re,c as Ve,d as Ne,e as Le,f as H,g as Ue,h as We,i as ot}from"./chunk-R6BK7K4S.js";import{A as ie,B as Te,C as oe,H as re,M as Ee,Q as Ie,l as Ae}from"./chunk-IZAUGL2T.js";import{C as Se,D as V,E as N,F as L,J as we,K as S,L as ke,M as De,a as Me,h as ve,i as B,j as ye,l as ne,m as z,p as F,s as R,t as Oe,w as j,x as Pe,z as xe}from"./chunk-5UWUNGWD.js";import{Ab as v,Ac as be,Bb as y,Bc as W,Cc as D,Db as b,Fc as Ce,Gb as d,Gc as C,Hb as g,Kb as me,Pb as te,Qb as a,Rb as O,Sb as P,T as se,Tb as ue,U as T,Ub as ge,Va as pe,Vb as w,W as ce,Wa as s,Wb as k,Xb as A,Y as de,Z as E,Zb as _e,_b as fe,ab as M,ac as he,ea as f,fa as h,gb as _,hb as I,lb as m,sb as p,ub as ee,xb as t,yb as o,zb as u}from"./chunk-WEBKK5V3.js";import"./chunk-GAL4ENT6.js";var K=class e{constructor(i){this.http=i}apiUrl=`${H.apiBaseUrl}ProductCategory`;getCategories(){return this.http.get(this.apiUrl+"/GetAllCategory")}createCategory(i){return this.http.post(this.apiUrl+"/CreateCategory",i)}static \u0275fac=function(n){return new(n||e)(de(Me))};static \u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"})};function mt(e,i){if(e&1&&(t(0,"option",11),a(1),o()),e&2){let n=i.$implicit;p("value",n.id),s(),O(n.name)}}function ut(e,i){if(e&1&&(t(0,"li"),a(1),o()),e&2){let n=i.$implicit;s(),O(n.name)}}function gt(e,i){if(e&1&&(t(0,"ul"),m(1,ut,2,1,"li",14),o()),e&2){let n=g().$implicit;s(),p("ngForOf",n.subCategories)}}function _t(e,i){if(e&1&&(t(0,"li",12),a(1),m(2,gt,2,1,"ul",13),o()),e&2){let n=i.$implicit;s(),P(" ",n.name," "),s(),p("ngIf",n.subCategories==null?null:n.subCategories.length)}}var q=class e{constructor(i,n){this.fb=i;this.categoryService=n}categoryForm;categories=[];ngOnInit(){this.categoryForm=this.fb.group({name:[""],parentCategoryId:[null]}),this.loadCategories()}loadCategories(){this.categoryService.getCategories().subscribe(i=>{this.categories=i})}createCategory(){this.categoryForm.valid&&this.categoryService.createCategory(this.categoryForm.value).subscribe(()=>{this.categoryForm.reset(),this.loadCategories()})}static \u0275fac=function(n){return new(n||e)(M(we),M(K))};static \u0275cmp=_({type:e,selectors:[["app-add-category"]],decls:17,vars:4,consts:[[1,"container","mt-4"],[1,"mb-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-4"],["type","text","formControlName","name","placeholder","Category Name",1,"form-control"],["formControlName","parentCategoryId",1,"form-select"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[3,"value"],[1,"list-group-item"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"h3"),a(2,"Category Management"),o(),t(3,"form",1),d("ngSubmit",function(){return r.createCategory()}),t(4,"div",2)(5,"div",3),u(6,"input",4),o(),t(7,"div",3)(8,"select",5)(9,"option",6),a(10,"No Parent (Root)"),o(),m(11,mt,2,2,"option",7),o()(),t(12,"div",3)(13,"button",8),a(14,"Add Category"),o()()()(),t(15,"ul",9),m(16,_t,3,2,"li",10),o()()),n&2&&(s(3),p("formGroup",r.categoryForm),s(6),p("ngValue",0),s(2),p("ngForOf",r.categories),s(5),p("ngForOf",r.categories))},dependencies:[C,W,D,S,Pe,N,L,F,V,R,Oe,ke,xe,Se],styles:["ul[_ngcontent-%COMP%]{margin-left:20px;list-style-type:circle}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 0}"]})};function ft(e,i){if(e&1){let n=b();t(0,"div",22),d("click",function(){f(n);let l=g();return h(l.closeSidebar())}),o()}}var Q=class e{isSidebarOpen=!1;screenWidth=window.innerWidth;toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}isMobileScreen(){return window.innerWidth<768}onResize(i){this.screenWidth=i.target.innerWidth}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["app-admin-sidebar"]],hostBindings:function(n,r){n&1&&d("resize",function(c){return r.onResize(c)},!1,pe)},decls:35,vars:3,consts:[[1,"btn","btn-dark","toggle-btn","d-md-none",3,"click"],[1,"bi","bi-list","fs-3"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar"],[1,"d-flex","justify-content-end","d-md-none","p-2"],[1,"btn","btn-outline-light","fs-4",3,"click"],[1,"sidebar-content"],[1,"text-white","text-center","mb-4"],[1,"nav","flex-column"],[1,"nav-item",3,"click"],["routerLink","/admin","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-house-door","me-2"],["routerLink","/admin/add-category","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-tags","me-2"],["routerLink","/admin/product/display","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-box-seam","me-2"],["routerLink","/admin/user/management","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-people","me-2"],["routerLink","/orders","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-receipt","me-2"],["routerLink","/settings","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-gear","me-2"],[1,"sidebar-overlay",3,"click"]],template:function(n,r){n&1&&(t(0,"button",0),d("click",function(){return r.toggleSidebar()}),u(1,"i",1),o(),m(2,ft,1,0,"div",2),t(3,"nav",3)(4,"div",4)(5,"button",5),d("click",function(){return r.closeSidebar()}),a(6,"\xD7"),o()(),t(7,"div",6)(8,"h4",7),a(9,"Admin Panel"),o(),t(10,"ul",8)(11,"li",9),d("click",function(){return r.closeSidebar()}),t(12,"a",10),u(13,"i",11),a(14," DashBoard "),o()(),t(15,"li",9),d("click",function(){return r.closeSidebar()}),t(16,"a",12),u(17,"i",13),a(18," Category "),o()(),t(19,"li",9),d("click",function(){return r.closeSidebar()}),t(20,"a",14),u(21,"i",15),a(22," Product "),o()(),t(23,"li",9),d("click",function(){return r.closeSidebar()}),t(24,"a",16),u(25,"i",17),a(26," User Management "),o()(),t(27,"li",9),d("click",function(){return r.closeSidebar()}),t(28,"a",18),u(29,"i",19),a(30," Orders "),o()(),t(31,"li",9),d("click",function(){return r.closeSidebar()}),t(32,"a",20),u(33,"i",21),a(34," Settings "),o()()()()()),n&2&&(s(2),p("ngIf",r.isSidebarOpen&&r.isMobileScreen()),s(),ee("sidebar-open",r.isSidebarOpen||!r.isMobileScreen()))},dependencies:[C,D,ye],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-250px;width:250px;height:100vh;background:#1f1f2e;color:#fff;transition:left .3s ease;z-index:1050;box-shadow:2px 0 12px #0006}.sidebar.sidebar-open[_ngcontent-%COMP%]{left:0}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ccc;padding:.75rem 1rem;border-radius:.5rem;transition:all .2s}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#343a40;color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;background-color:#00000080;z-index:1040}.toggle-btn[_ngcontent-%COMP%]{position:fixed;top:15px;left:15px;z-index:1060;border-radius:50%;width:48px;height:48px;padding:0;display:flex;align-items:center;justify-content:center}.nav-link.active[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff!important;font-weight:500}"]})};var Y=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["app-admin-home"]],decls:5,vars:0,consts:[[1,"d-flex",2,"width","100%"],[1,"sidebar"],[1,"content"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1),u(2,"app-admin-sidebar"),o(),t(3,"div",2),u(4,"router-outlet"),o()())},dependencies:[Q,ve],styles:[".sidebar[_ngcontent-%COMP%]{width:20%}.content[_ngcontent-%COMP%]{width:80%}@media (max-width: 768px){.content[_ngcontent-%COMP%]{width:100%}}"]})};var $=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=_({type:e,selectors:[["app-dashboard"]],decls:3,vars:0,consts:[[1,"d-flex","vh-100","justify-content-center","align-item-center"],[1,"mt-5"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"h1",1),a(2,"Welcome to dashboard"),o()())},dependencies:[C,S],styles:[".user-table-container[_ngcontent-%COMP%]{padding:20px;max-width:100%;overflow-x:auto;min-height:500px}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-family:Segoe UI,sans-serif;font-size:14px}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:10px;color:#444;font-weight:600;border-bottom:2px solid #eee}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eaeaea}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#d1f5e5;color:#2e8b57}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{background-color:#fddede;color:#c0392b}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .edit-link[_ngcontent-%COMP%], .user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]{color:#3498db;cursor:pointer;text-decoration:none}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .edit-link[_ngcontent-%COMP%]:hover, .user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:15px;flex-wrap:wrap}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:13px;color:#666}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]{display:flex;gap:6px;margin-top:10px}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ddd;background-color:#fff;cursor:pointer;border-radius:4px;transition:background-color .2s ease}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active):not(:disabled){background-color:#f0f0f0}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-bottom:16px;gap:10px}.filter-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;width:220px;border:1px solid #ccc;border-radius:6px}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]{display:flex;gap:10px}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;background:#f1f1f1;border:1px solid #ccc;border-radius:6px;cursor:pointer;font-weight:500;transition:all .2s}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background-color:#e8e8e8}.toggle-link[_ngcontent-%COMP%]{padding:4px 12px;font-size:16px;border-radius:22px}.user-dashboard-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%], .user-dashboard-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .select-filter[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ccc;border-radius:6px}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e0e0e0}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#888;padding:1rem}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link.active[_ngcontent-%COMP%]{color:green}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link.inactive[_ngcontent-%COMP%]{color:red}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem .75rem;border:none;background:#f1f1f1;cursor:pointer;border-radius:4px}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0}.searchBtn[_ngcontent-%COMP%]{padding:2px 7px;border:none;border-radius:0;color:#fff;background-color:#2e8b57}"]})};var ht=new ce("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let e=E(ie);return()=>e.scrollStrategies.reposition()}});function bt(e){return()=>e.scrollStrategies.reposition()}var Ct={provide:ht,deps:[ie],useFactory:bt};var ct=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=I({type:e});static \u0275inj=T({providers:[Ct],imports:[Te,re,oe,Ae,G,re,oe]})}return e})();function Mt(e,i){e&1&&u(0,"app-spinner")}function vt(e,i){e&1&&(t(0,"th",29),a(1," ID "),o())}function yt(e,i){if(e&1&&(t(0,"td",30),a(1),o()),e&2){let n=i.$implicit;s(),P(" ",n.id," ")}}function Ot(e,i){e&1&&(t(0,"th",29),a(1," Name "),o())}function Pt(e,i){if(e&1&&(t(0,"td",30)(1,"span",31),a(2),fe(3,"slice"),o()()),e&2){let n=i.$implicit;s(),me("matTooltip",n.name),s(),ue(" ",he(3,3,n.name,0,32),"",n.name.length>32?"...":""," ")}}function xt(e,i){e&1&&(t(0,"th",29),a(1," Description "),o())}function St(e,i){if(e&1){let n=b();t(0,"td",30)(1,"button",32),d("click",function(){let l=f(n).$implicit,c=g();return h(c.openPopup(l.description,"description"))}),t(2,"mat-icon"),a(3,"visibility"),o(),t(4,"span"),a(5," View"),o()()()}}function wt(e,i){e&1&&(t(0,"th",29),a(1," Images "),o())}function kt(e,i){if(e&1){let n=b();t(0,"td",30)(1,"button",32),d("click",function(){let l=f(n).$implicit,c=g();return h(c.openPopup(l.productImageUrls,"images"))}),t(2,"mat-icon"),a(3,"image"),o(),t(4,"span"),a(5," View"),o()()()}}function At(e,i){e&1&&(t(0,"th",29),a(1," Video "),o())}function Tt(e,i){if(e&1){let n=b();t(0,"td",30)(1,"button",33),d("click",function(){let l=f(n).$implicit,c=g();return h(c.openPopup(l.productVideoUrl,"video"))}),t(2,"mat-icon"),a(3,"play_circle_filled"),o(),t(4,"span"),a(5," Play"),o()()()}}function Et(e,i){e&1&&(t(0,"th",29),a(1," Approval "),o())}function It(e,i){e&1&&(t(0,"p"),a(1,"Approved"),o())}function Dt(e,i){e&1&&(t(0,"p"),a(1,"Pending "),o())}function Ft(e,i){if(e&1&&(t(0,"td",30),m(1,It,2,0,"p",1)(2,Dt,2,0,"p",1),o()),e&2){let n=i.$implicit;s(),p("ngIf",n.isApproved),s(),p("ngIf",!n.isApproved)}}function Rt(e,i){e&1&&(t(0,"th",29),a(1," Min Price "),o())}function Vt(e,i){if(e&1&&(t(0,"td",30),a(1),o()),e&2){let n=i.$implicit;s(),P(" ",n.minPricePerUnit," ")}}function Nt(e,i){e&1&&(t(0,"th",29),a(1," Max Price "),o())}function Lt(e,i){if(e&1&&(t(0,"td",30),a(1),o()),e&2){let n=i.$implicit;s(),P(" ",n.maxPricePerUnit," ")}}function Ut(e,i){e&1&&(t(0,"th",29),a(1," Actions "),o())}function Wt(e,i){if(e&1){let n=b();t(0,"button",40),d("click",function(){f(n);let l=g().$implicit,c=g();return h(c.IsApproved(l.id,c.app))}),t(1,"mat-icon",41),a(2,"done"),o(),t(3,"span"),a(4,"Approve"),o()()}}function Bt(e,i){if(e&1){let n=b();t(0,"td",34)(1,"button",35)(2,"mat-icon"),a(3,"more_vert"),o()(),t(4,"mat-menu",36,0),m(6,Wt,5,0,"button",37),t(7,"button",38),d("click",function(){let l=f(n).$implicit,c=g();return h(c.IsApproved(l.id,c.reject))}),t(8,"mat-icon",39),a(9,"cancel"),o(),t(10,"span"),a(11,"Reject"),o()()()()}if(e&2){let n=i.$implicit,r=te(5);s(),p("matMenuTriggerFor",r),s(5),p("ngIf",!n.isApproved)}}function zt(e,i){e&1&&u(0,"tr",42)}function jt(e,i){e&1&&u(0,"tr",43)}var X=class e{constructor(i,n,r,l){this.dialog=i;this.productService=n;this.toastr=r;this.route=l}displayedColumns=["id","name","description","images","IsApproved","video","minPricePerUnit","maxPricePerUnit","actions"];products=[];loading=!1;searchText="";filterStatus="all";baseUrl=H.apiBaseUrl.replace("/api","");ngOnInit(){this.loadProducts()}navigateToUpdate(i){this.route.navigate(["/seller/home/add-product",i])}loadProducts(){this.loading=!0,this.productService.GetAllProductListForAdmin(this.searchText,this.filterStatus).subscribe(i=>{this.products=i.filter(n=>n.showcaseStatus==!0),this.loading=!1},i=>{console.error("Error fetching products:",i),this.loading=!1})}onFilterChange(){this.loadProducts()}reject="Product Rejected";app="Product Approved Succesfully";IsApproved(i,n){this.productService.IsApproved(i).subscribe(r=>{this.toastr.success(n),this.loadProducts()})}openPopup(i,n){n==="images"&&(i=Array.isArray(i)?i:[i],i=i.map(r=>this.baseUrl+r)),this.dialog.open(it,{width:"500px",data:{content:i,type:n}})}static \u0275fac=function(n){return new(n||e)(M(Ee),M(We),M(z),M(B))};static \u0275cmp=_({type:e,selectors:[["app-all-products"]],decls:50,vars:6,consts:[["menu","matMenu"],[4,"ngIf"],[1,"responsive-container","mt-3"],[1,"p-4"],[1,"fw-bold","mb-1","fs-4"],[1,"text-muted","mb-2","mb-md-0","fs-6"],[1,"d-flex","justify-content-end","lign-items-center","gap-2","flex-wrap","mb-3"],[1,"input-group",2,"max-width","300px"],["type","text","placeholder","Search by product",1,"form-control",3,"ngModelChange","input","ngModel"],["type","button",1,"btn","btn-success",3,"click"],[1,"form-select",2,"min-width","150px",3,"ngModelChange","change","ngModel"],["value","all"],["value","1"],["value","0"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8","custom-table",2,"background-color","#ecedea0f !important","color","#000000ba !important",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","images"],["matColumnDef","video"],["matColumnDef","IsApproved"],["matColumnDef","minPricePerUnit"],["matColumnDef","maxPricePerUnit"],["matColumnDef","actions"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[2,"cursor","pointer",3,"matTooltip"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","accent",3,"click"],["mat-cell","",1,"text-center"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"action-menu","bg-light"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","color","warn",3,"click"],[2,"color","red !important","font-weight","800 !important"],["mat-menu-item","",3,"click"],[2,"color","green !important","font-weight","800 !important"],["mat-header-row",""],["mat-row","",1,"table-row"]],template:function(n,r){n&1&&(m(0,Mt,1,0,"app-spinner",1),t(1,"div",2)(2,"div",3)(3,"h3",4),a(4,"Product Listings"),o(),t(5,"p",5),a(6,"Manage your Approve, Rejected, and all products in one place."),o()(),t(7,"div",6)(8,"div",7)(9,"input",8),A("ngModelChange",function(c){return k(r.searchText,c)||(r.searchText=c),c}),d("input",function(){return r.onFilterChange()}),o(),t(10,"button",9),d("click",function(){return r.onFilterChange()}),a(11,"Search"),o()(),t(12,"div")(13,"select",10),A("ngModelChange",function(c){return k(r.filterStatus,c)||(r.filterStatus=c),c}),d("change",function(){return r.onFilterChange()}),t(14,"option",11),a(15,"All Status"),o(),t(16,"option",12),a(17,"Approved"),o(),t(18,"option",13),a(19,"Pending"),o()()(),t(20,"table",14),v(21,15),m(22,vt,2,0,"th",16)(23,yt,2,1,"td",17),y(),v(24,18),m(25,Ot,2,0,"th",16)(26,Pt,4,7,"td",17),y(),v(27,19),m(28,xt,2,0,"th",16)(29,St,6,0,"td",17),y(),v(30,20),m(31,wt,2,0,"th",16)(32,kt,6,0,"td",17),y(),v(33,21),m(34,At,2,0,"th",16)(35,Tt,6,0,"td",17),y(),v(36,22),m(37,Et,2,0,"th",16)(38,Ft,3,2,"td",17),y(),v(39,23),m(40,Rt,2,0,"th",16)(41,Vt,2,1,"td",17),y(),v(42,24),m(43,Nt,2,0,"th",16)(44,Lt,2,1,"td",17),y(),v(45,25),m(46,Ut,2,0,"th",16)(47,Bt,12,2,"td",26),y(),m(48,zt,1,0,"tr",27)(49,jt,1,0,"tr",28),o()()()),n&2&&(p("ngIf",r.loading),s(9),w("ngModel",r.searchText),s(4),w("ngModel",r.filterStatus),s(7),p("dataSource",r.products),s(28),p("matHeaderRowDef",r.displayedColumns),s(),p("matRowDefColumns",r.displayedColumns))},dependencies:[C,D,Ce,Xe,Be,je,qe,He,ze,Qe,Ge,Ke,Ye,$e,Ve,Fe,Re,Le,Ne,Je,Ie,nt,et,Ze,tt,G,lt,ct,S,N,L,F,V,R,j,ot,at,rt],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%], span[_ngcontent-%COMP%], mat-label[_ngcontent-%COMP%], mat-option[_ngcontent-%COMP%], mat-select[_ngcontent-%COMP%]{color:#000!important}  .mat-form-field{background-color:#fff;border-radius:6px}  .mat-select-panel{background-color:#fff!important;color:#000!important}mat-mdc-menu-panel[_ngcontent-%COMP%]{min-width:175px;max-width:280px;overflow:auto}"]})};var le=(e,i)=>{let n=E(B),r=E(De),l=E(z),c=localStorage.getItem("token");return c?r.isLoggedIn()?r.getUserRole(c)==="admin"?!0:(l.error("You don't have permission\u274C"),n.navigate(["/Unauthorized"]),!1):(n.navigate(["/auth/login"]),!1):(n.navigate(["/auth/login"]),!1)};var Ht=e=>({active:e});function Gt(e,i){if(e&1){let n=b();t(0,"tr")(1,"td"),a(2),o(),t(3,"td"),a(4),o(),t(5,"td"),a(6),o(),t(7,"td"),a(8),o(),t(9,"td"),a(10),o(),t(11,"td")(12,"a",22),d("click",function(){let l=f(n).$implicit,c=g();return h(c.toggle(l.id))}),a(13),o()()()}if(e&2){let n=i.$implicit,r=i.index,l=g();s(2),O((l.pageNumber-1)*l.pageSize+r+1),s(2),O(n.userName),s(2),O(n.role),s(2),O(n.email),s(2),O(n.phoneNumber),s(2),p("ngClass",n.isDisable?"active":"inactive"),s(),P(" ",n.isDisable?"Active":"Inactive"," ")}}function Kt(e,i){if(e&1){let n=b();t(0,"button",23),d("click",function(){let l=f(n).$implicit,c=g();return h(c.goToPage(l))}),a(1),o()}if(e&2){let n=i.$implicit,r=g();p("ngClass",_e(2,Ht,n===r.pageNumber)),s(),P(" ",n," ")}}var J=class e{constructor(i){this.userService=i}users=[];pageNumber=1;pageSize=10;totalCount=0;totalPagesArray=[];searchTerm="";Math=Math;selectedRole="";selectedStatus="";ngOnInit(){this.loadUsers()}loadUsers(){this.userService.getUsers(this.pageNumber,this.pageSize,this.searchTerm,this.selectedRole,this.selectedStatus).subscribe(i=>{this.users=i.users,this.totalCount=i.totalCount;let n=Math.ceil(this.totalCount/this.pageSize);this.totalPagesArray=Array.from({length:n},(r,l)=>l+1)})}searchUsers(){this.pageNumber=1,this.loadUsers()}goToPage(i){this.pageNumber=i,this.loadUsers()}prevPage(){this.pageNumber>1&&(this.pageNumber--,this.loadUsers())}nextPage(){this.pageNumber<this.totalPagesArray.length&&(this.pageNumber++,this.loadUsers())}toggle(i){this.userService.toggleDisable(i).subscribe(()=>this.loadUsers())}editUser(i){console.log("Edit user:",i)}static \u0275fac=function(n){return new(n||e)(M(Ue))};static \u0275cmp=_({type:e,selectors:[["app-user-managment"]],decls:53,vars:11,consts:[[1,"user-table-container","p-4"],[1,"p-4"],[1,"fw-bold","mb-1","fs-4"],[1,"text-muted","mb-2","mb-md-0","fs-6"],[1,"search-box","mb-3","d-flex","justify-content-end"],[1,"d-flex","p-2"],["type","text","placeholder","Search by username",1,"form-control",3,"ngModelChange","click","ngModel"],[1,"searchBtn",3,"click"],[1,"p-2"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","Buyer"],["value","Seller"],["value","inactive"],["value","active"],[1,"user-table"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[1,"pagination-info"],[1,"pagination-buttons"],[3,"click","disabled"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"toggle-link",3,"click","ngClass"],[3,"click","ngClass"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1)(2,"h3",2),a(3,"Manage Users"),o(),t(4,"p",3),a(5,"Manage your User, Ative, InActive, and all user in one place."),o()(),t(6,"div",4)(7,"div",5)(8,"input",6),A("ngModelChange",function(c){return k(r.searchTerm,c)||(r.searchTerm=c),c}),d("click",function(){return r.searchUsers()}),o(),t(9,"button",7),d("click",function(){return r.searchUsers()}),a(10,"Search"),o()(),t(11,"div",8)(12,"select",9),A("ngModelChange",function(c){return k(r.selectedRole,c)||(r.selectedRole=c),c}),d("ngModelChange",function(){return r.searchUsers()}),t(13,"option",10),a(14,"All Roles"),o(),t(15,"option",11),a(16,"Buyer"),o(),t(17,"option",12),a(18,"Seller"),o()()(),t(19,"div",8)(20,"select",9),A("ngModelChange",function(c){return k(r.selectedStatus,c)||(r.selectedStatus=c),c}),d("ngModelChange",function(){return r.searchUsers()}),t(21,"option",10),a(22,"All Status"),o(),t(23,"option",13),a(24,"Active"),o(),t(25,"option",14),a(26,"Inactive"),o()()()(),t(27,"table",15)(28,"thead")(29,"tr")(30,"th"),a(31,"Sr No."),o(),t(32,"th"),a(33,"UserName"),o(),t(34,"th"),a(35,"Role"),o(),t(36,"th"),a(37,"Email"),o(),t(38,"th"),a(39,"Phone"),o(),t(40,"th"),a(41,"Action"),o()()(),t(42,"tbody"),m(43,Gt,14,7,"tr",16),o()(),t(44,"div",17)(45,"div",18),a(46),o(),t(47,"div",19)(48,"button",20),d("click",function(){return r.prevPage()}),a(49,"Prev"),o(),m(50,Kt,2,4,"button",21),t(51,"button",20),d("click",function(){return r.nextPage()}),a(52,"Next"),o()()()()),n&2&&(s(8),w("ngModel",r.searchTerm),s(4),w("ngModel",r.selectedRole),s(8),w("ngModel",r.selectedStatus),s(23),p("ngForOf",r.users),s(3),ge(" ",r.pageSize," per page \u2022 ",(r.pageNumber-1)*r.pageSize+1," - ",r.Math.min(r.pageNumber*r.pageSize,r.totalCount)," of ",r.totalCount," "),s(2),p("disabled",r.pageNumber===1),s(2),p("ngForOf",r.totalPagesArray),s(),p("disabled",r.pageNumber===r.totalPagesArray.length))},dependencies:[C,be,W,S,N,L,F,V,R,j],styles:[".user-table-container[_ngcontent-%COMP%]{padding:20px;max-width:100%;overflow-x:auto;min-height:500px}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-family:Segoe UI,sans-serif;font-size:14px}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:10px;color:#444;font-weight:600;border-bottom:2px solid #eee}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eaeaea}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#d1f5e5;color:#2e8b57}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{background-color:#fddede;color:#c0392b}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .edit-link[_ngcontent-%COMP%], .user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]{color:#3498db;cursor:pointer;text-decoration:none}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .edit-link[_ngcontent-%COMP%]:hover, .user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:15px;flex-wrap:wrap}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:13px;color:#666}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]{display:flex;gap:6px;margin-top:10px}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ddd;background-color:#fff;cursor:pointer;border-radius:4px;transition:background-color .2s ease}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active):not(:disabled){background-color:#f0f0f0}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-bottom:16px;gap:10px}.filter-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;width:220px;border:1px solid #ccc;border-radius:6px}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]{display:flex;gap:10px}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;background:#f1f1f1;border:1px solid #ccc;border-radius:6px;cursor:pointer;font-weight:500;transition:all .2s}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background-color:#e8e8e8}.toggle-link[_ngcontent-%COMP%]{padding:4px 12px;font-size:16px;border-radius:22px}.user-dashboard-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%], .user-dashboard-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .select-filter[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ccc;border-radius:6px}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e0e0e0}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#888;padding:1rem}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link.active[_ngcontent-%COMP%]{color:green}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link.inactive[_ngcontent-%COMP%]{color:red}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem .75rem;border:none;background:#f1f1f1;cursor:pointer;border-radius:4px}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0}.searchBtn[_ngcontent-%COMP%]{padding:2px 7px;border:none;border-radius:0;color:#fff;background-color:#2e8b57}"]})};var qt=[{path:"",component:Y,canActivate:[le],canActivateChild:[le],children:[{path:"",component:$},{path:"add-category",component:q},{path:"user/management",component:J},{path:"product/display",component:X},{path:"",redirectTo:"home",pathMatch:"full"}]}],Z=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=I({type:e});static \u0275inj=T({imports:[ne.forChild(qt),ne]})};var dt=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=I({type:e});static \u0275inj=T({imports:[C,Z]})};export{dt as AdminModule};
