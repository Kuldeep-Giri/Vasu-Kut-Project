import{a as We,b as je,c as Ge,d as He,e as qe}from"./chunk-OLDORSNV.js";import{a as Q,b as Ke}from"./chunk-5OQJNZHQ.js";import{c as Be,e as Le,f as k,g as ze}from"./chunk-PHADN5D6.js";import{a as Ne,h as ce,i as Re,j as de,o as pe,t as Ue,x as Ve}from"./chunk-LPPXFBKX.js";import{a as z,b as W}from"./chunk-CUJCW6GI.js";import{C as Fe,D as V,E as B,F as L,J as q,K as w,L as De,M as K,a as we,h as ke,i as N,j as Ae,l as se,m as P,p as R,s as U,t as Ie,w as H,x as Ee,z as Te}from"./chunk-YDDR5VUJ.js";import{Ab as y,Db as p,Eb as g,Hb as Ce,Lb as le,Mb as a,Nb as f,Ob as O,Pb as ve,Qa as re,Qb as ye,Rb as A,Sb as I,T as he,Ta as be,Tb as E,U as T,Ua as l,Vb as Me,W as fe,Wb as xe,Y as _e,Yb as Oe,Z as F,_a as h,ea as _,eb as C,fa as b,fb as D,jb as u,qb as d,sb as ae,tc as Se,uc as S,vb as t,vc as M,wb as n,xb as m,xc as Pe,yc as v}from"./chunk-ZCWZLXOA.js";import"./chunk-GAL4ENT6.js";var Y=class r{constructor(i){this.http=i}apiUrl=`${W.apiBaseUrl}ProductCategory`;getCategories(){return this.http.get(this.apiUrl+"/GetAllCategory")}createCategory(i){return this.http.post(this.apiUrl+"/CreateCategory",i)}static \u0275fac=function(e){return new(e||r)(_e(we))};static \u0275prov=he({token:r,factory:r.\u0275fac,providedIn:"root"})};function Je(r,i){if(r&1&&(t(0,"option",11),a(1),n()),r&2){let e=i.$implicit;d("value",e.id),l(),f(e.name)}}function Ze(r,i){if(r&1&&(t(0,"li"),a(1),n()),r&2){let e=i.$implicit;l(),f(e.name)}}function et(r,i){if(r&1&&(t(0,"ul"),u(1,Ze,2,1,"li",14),n()),r&2){let e=g().$implicit;l(),d("ngForOf",e.subCategories)}}function tt(r,i){if(r&1&&(t(0,"li",12),a(1),u(2,et,2,1,"ul",13),n()),r&2){let e=i.$implicit;l(),O(" ",e.name," "),l(),d("ngIf",e.subCategories==null?null:e.subCategories.length)}}var $=class r{constructor(i,e){this.fb=i;this.categoryService=e}categoryForm;categories=[];ngOnInit(){this.categoryForm=this.fb.group({name:[""],parentCategoryId:[null]}),this.loadCategories()}loadCategories(){this.categoryService.getCategories().subscribe(i=>{this.categories=i})}createCategory(){this.categoryForm.valid&&this.categoryService.createCategory(this.categoryForm.value).subscribe(()=>{this.categoryForm.reset(),this.loadCategories()})}static \u0275fac=function(e){return new(e||r)(h(q),h(Y))};static \u0275cmp=C({type:r,selectors:[["app-add-category"]],decls:17,vars:4,consts:[[1,"container","mt-4"],[1,"mb-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-4"],["type","text","formControlName","name","placeholder","Category Name",1,"form-control"],["formControlName","parentCategoryId",1,"form-select"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[3,"value"],[1,"list-group-item"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"h3"),a(2,"Category Management"),n(),t(3,"form",1),p("ngSubmit",function(){return o.createCategory()}),t(4,"div",2)(5,"div",3),m(6,"input",4),n(),t(7,"div",3)(8,"select",5)(9,"option",6),a(10,"No Parent (Root)"),n(),u(11,Je,2,2,"option",7),n()(),t(12,"div",3)(13,"button",8),a(14,"Add Category"),n()()()(),t(15,"ul",9),u(16,tt,3,2,"li",10),n()()),e&2&&(l(3),d("formGroup",o.categoryForm),l(6),d("ngValue",0),l(2),d("ngForOf",o.categories),l(5),d("ngForOf",o.categories))},dependencies:[v,S,M,w,Ee,B,L,R,V,U,Ie,De,Te,Fe],styles:["ul[_ngcontent-%COMP%]{margin-left:20px;list-style-type:circle}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 0}"]})};function it(r,i){if(r&1){let e=y();t(0,"div",26),p("click",function(){_(e);let s=g();return b(s.closeSidebar())}),n()}}var J=class r{constructor(i,e,o,s,c){this.authService=i;this.router=e;this.fb=o;this.toastr=s;this.adminService=c}isSidebarOpen=!1;screenWidth=window.innerWidth;toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}isMobileScreen(){return window.innerWidth<768}onResize(i){this.screenWidth=i.target.innerWidth}currentOpenMenu=null;UserName="";showPopup=!1;userId;user={};openPopup(){this.showPopup=!this.showPopup}ngOnInit(){let i=localStorage.getItem("token");i&&(this.UserName=this.authService.getUserName(i),console.log(this.UserName))}logOut(){this.authService.logout(),this.toastr.success("LogOut Successfully"),this.router.navigate(["/"])}clickCross(){this.showPopup=!1}static \u0275fac=function(e){return new(e||r)(h(K),h(N),h(q),h(P),h(k))};static \u0275cmp=C({type:r,selectors:[["app-admin-sidebar"]],hostBindings:function(e,o){e&1&&p("resize",function(c){return o.onResize(c)},!1,be)},decls:42,vars:4,consts:[[1,"btn","btn-dark","toggle-btn","d-md-none",3,"click"],[1,"bi","bi-list","fs-3"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar"],[1,"d-flex","justify-content-end","d-md-none","p-2"],[1,"btn","btn-outline-light","fs-4",3,"click"],[1,"sidebar-content"],[1,"text-white","text-center","mb-4"],[1,"nav","flex-column"],[1,"nav-item",3,"click"],["routerLink","/admin","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-house-door","me-2"],["routerLink","/admin/banner","routerLinkActive","active",1,"nav-link"],[1,"fa-solid","fa-image","me-2"],["routerLink","/admin/add-category","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-tags","me-2"],["routerLink","/admin/product/display","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-box-seam","me-2"],["routerLink","/admin/user/management","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-people","me-2"],[1,"logout","nav-item"],[1,"dropup"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item"],["href","#",1,"dropdown-item",3,"click"],[1,"sidebar-overlay",3,"click"]],template:function(e,o){e&1&&(t(0,"button",0),p("click",function(){return o.toggleSidebar()}),m(1,"i",1),n(),u(2,it,1,0,"div",2),t(3,"nav",3)(4,"div",4)(5,"button",5),p("click",function(){return o.closeSidebar()}),a(6,"\xD7"),n()(),t(7,"div",6)(8,"h4",7),a(9,"Admin Panel"),n(),t(10,"ul",8)(11,"li",9),p("click",function(){return o.closeSidebar()}),t(12,"a",10),m(13,"i",11),a(14," DashBoard "),n()(),t(15,"li",9),p("click",function(){return o.closeSidebar()}),t(16,"a",12),m(17,"i",13),a(18," Create-Banner "),n()(),t(19,"li",9),p("click",function(){return o.closeSidebar()}),t(20,"a",14),m(21,"i",15),a(22," Category "),n()(),t(23,"li",9),p("click",function(){return o.closeSidebar()}),t(24,"a",16),m(25,"i",17),a(26," Product "),n()(),t(27,"li",9),p("click",function(){return o.closeSidebar()}),t(28,"a",18),m(29,"i",19),a(30," User Management "),n()(),t(31,"li",20)(32,"div",21)(33,"a",22),a(34),n(),t(35,"ul",23)(36,"li")(37,"a",24),a(38,"Edit profile"),n()(),t(39,"li")(40,"a",25),p("click",function(){return o.logOut()}),a(41,"Logout"),n()()()()()()()()),e&2&&(l(2),d("ngIf",o.isSidebarOpen&&o.isMobileScreen()),l(),ae("sidebar-open",o.isSidebarOpen||!o.isMobileScreen()),l(31),O(" Welcome ",o.UserName," ! "))},dependencies:[v,M,Ae],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-250px;width:250px;height:100vh;background:#1f1f2e;color:#fff;transition:left .3s ease;z-index:1050;box-shadow:2px 0 12px #0006}.sidebar.sidebar-open[_ngcontent-%COMP%]{left:0}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ccc;padding:.75rem 1rem;border-radius:.5rem;transition:all .2s}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#343a40;color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;background-color:#00000080;z-index:1040}.toggle-btn[_ngcontent-%COMP%]{position:fixed;top:15px;left:15px;z-index:1060;border-radius:50%;width:48px;height:48px;padding:0;display:flex;align-items:center;justify-content:center}.nav-link.active[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff!important;font-weight:500}.logout[_ngcontent-%COMP%]{position:absolute;top:85%;bottom:0%;font-size:18px;cursor:pointer}.logout[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{text-decoration:none;font-size:20px;color:#fff;font-weight:700}.logout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b03131}"]})};var Z=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=C({type:r,selectors:[["app-admin-home"]],decls:5,vars:0,consts:[[1,"d-flex",2,"width","100%"],[1,"sidebar"],[1,"content"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"div",1),m(2,"app-admin-sidebar"),n(),t(3,"div",2),m(4,"router-outlet"),n()())},dependencies:[J,ke],styles:[".sidebar[_ngcontent-%COMP%]{width:20%}.content[_ngcontent-%COMP%]{width:80%}@media (max-width: 820px){.content[_ngcontent-%COMP%]{width:100%}.sidebar[_ngcontent-%COMP%]{width:0%}}"]})};var ee=class r{constructor(i){this.adminService=i}activeUserCount=0;inactiveUserCount=0;ngOnInit(){this.loadUserCounts()}loadUserCounts(){this.adminService.getUsers(1,1).subscribe({next:i=>{this.activeUserCount=i.activeUserCount,this.inactiveUserCount=i.inactiveUserCount},error:i=>{console.error("Error fetching user counts:",i)}})}static \u0275fac=function(e){return new(e||r)(h(k))};static \u0275cmp=C({type:r,selectors:[["app-dashboard"]],decls:21,vars:2,consts:[[1,"container-fluid"],[1,"d-flexjustify-content-center"],["direction","left","scrollamount","5"],[1,"d-flex","justify-content-center","mt-5","row"],[1,"col-md-6","col-lg-5"],[1,"card","mt-2","status-card","active-card","text-center"],[1,"card-body"],[1,"status-icon","bi","bi-person-check-fill"],[1,"status-text","mt-3"],["id","activeCount",1,"status-count","mb-0"],[1,"card","mt-2","status-card","inactive-card","text-center"],[1,"status-icon","bi","bi-person-x-fill"],["id","inactiveCount",1,"status-count","mb-0"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"div",1)(2,"marquee",2),a(3,' "Security is not a product, but a process." - Bruce Schneier \xA0\xA0|\xA0\xA0 "With great power comes great responsibility." - Uncle Ben \xA0\xA0|\xA0\xA0 "The best way to predict the future is to invent it." - Alan Kay \xA0\xA0|\xA0\xA0 "Log everything, trust nothing!" \xA0\xA0|\xA0\xA0 "Knowledge is power, log analysis is wisdom." '),n()(),t(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),m(8,"i",7),t(9,"h5",8),a(10,"Active Users"),n(),t(11,"p",9),a(12),n()()()(),t(13,"div",4)(14,"div",10)(15,"div",6),m(16,"i",11),t(17,"h5",8),a(18,"Inactive Users"),n(),t(19,"p",12),a(20),n()()()()()()),e&2&&(l(12),f(o.activeUserCount),l(8),f(o.inactiveUserCount))},dependencies:[v,w],styles:[".status-card[_ngcontent-%COMP%]{border-radius:10px;border:none;padding:10px;color:#fff;transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.status-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 10px #0003}.active-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#218838)}.inactive-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.status-icon[_ngcontent-%COMP%]{font-size:40px;opacity:.8}.status-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.status-count[_ngcontent-%COMP%]{font-size:40px;font-weight:700}marquee[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#fff;margin:0;padding:0;white-space:nowrap;background:linear-gradient(to bottom,#ff6a00,#83c);height:10vh;display:flex;justify-content:center;align-items:center}"]})};var ot=new fe("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let r=F(ce);return()=>r.scrollStrategies.reposition()}});function rt(r){return()=>r.scrollStrategies.reposition()}var at={provide:ot,deps:[ce],useFactory:rt};var Ye=(()=>{class r{static \u0275fac=function(o){return new(o||r)};static \u0275mod=D({type:r});static \u0275inj=T({providers:[at],imports:[Re,pe,de,Ne,Q,pe,de]})}return r})();function lt(r,i){r&1&&m(0,"app-spinner")}function st(r,i){r&1&&(t(0,"span",34),a(1,"Approved"),n())}function ct(r,i){r&1&&(t(0,"span",35),a(1,"Pending"),n())}function dt(r,i){if(r&1){let e=y();t(0,"li")(1,"button",36),p("click",function(){_(e);let s=g().$implicit,c=g();return b(c.IsApproved(s.id,"app"))}),m(2,"i",37),a(3," Approve "),n()()}}function pt(r,i){if(r&1){let e=y();t(0,"tr")(1,"td"),a(2),n(),t(3,"td",20),a(4),xe(5,"slice"),n(),t(6,"td")(7,"button",21),p("click",function(){let s=_(e).$implicit,c=g();return b(c.openPopup(s.description,"description"))}),m(8,"i",22),a(9," View "),n()(),t(10,"td")(11,"button",21),p("click",function(){let s=_(e).$implicit,c=g();return b(c.openPopup(s.productImageUrls,"images"))}),m(12,"i",23),a(13," View "),n()(),t(14,"td")(15,"button",24),p("click",function(){let s=_(e).$implicit,c=g();return b(c.openPopup(s.productVideoUrl,"video"))}),m(16,"i",25),a(17," Play "),n()(),t(18,"td"),u(19,st,2,0,"span",26)(20,ct,2,0,"span",27),n(),t(21,"td"),a(22),n(),t(23,"td"),a(24),n(),t(25,"td")(26,"div",28)(27,"button",29),m(28,"i",30),n(),t(29,"ul",31),u(30,dt,4,0,"li",0),t(31,"li")(32,"button",32),p("click",function(){let s=_(e).$implicit,c=g();return b(c.IsApproved(s.id,"reject"))}),m(33,"i",33),a(34," Reject "),n()()()()()()}if(r&2){let e=i.$implicit;l(2),f(e.id),l(),Ce("title",e.name),l(),ve(" ",Oe(5,9,e.name,0,32),"",e.name.length>32?"...":""," "),l(15),d("ngIf",e.isApproved),l(),d("ngIf",!e.isApproved),l(2),f(e.minPricePerUnit),l(2),f(e.maxPricePerUnit),l(6),d("ngIf",!e.isApproved)}}function mt(r,i){r&1&&(t(0,"div",38),a(1,` No product Find
`),n())}var te=class r{constructor(i,e,o,s){this.dialog=i;this.productService=e;this.toastr=o;this.route=s}displayedColumns=["id","name","description","images","IsApproved","video","minPricePerUnit","maxPricePerUnit","actions"];products=[];loading=!1;searchText="";filterStatus="all";baseUrl=W.apiBaseUrl.replace("/api","");ngOnInit(){this.loadProducts()}navigateToUpdate(i){this.route.navigate(["/seller/home/add-product",i])}loadProducts(){this.loading=!0,this.productService.GetAllProductListForAdmin(this.searchText,this.filterStatus).subscribe(i=>{this.products=i.filter(e=>e.showcaseStatus==!0),this.loading=!1},i=>{console.error("Error fetching products:",i),this.loading=!1})}onFilterChange(){this.loadProducts()}reject="Product Rejected";app="Product Approved Succesfully";IsApproved(i,e){this.productService.IsApproved(i).subscribe(o=>{this.toastr.success(e),this.loadProducts()})}openPopup(i,e){e==="images"&&(i=Array.isArray(i)?i:[i],i=i.map(o=>this.baseUrl+o)),this.dialog.open(He,{width:"500px",data:{content:i,type:e}})}static \u0275fac=function(e){return new(e||r)(h(Ue),h(ze),h(P),h(N))};static \u0275cmp=C({type:r,selectors:[["app-all-products"]],decls:46,vars:5,consts:[[4,"ngIf"],[1,"container-fluid","mt-3"],[1,"p-4"],[1,"fw-bold","mb-1","fs-4"],[1,"text-muted","mb-2","fs-6"],[1,"d-flex","flex-wrap","gap-2","justify-content-between","mb-3","filter-container"],[1,"search-box"],[1,"input-group"],["type","text","placeholder","Search by product",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-success",3,"click"],[1,"status-dropdown"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","1"],["value","0"],[1,"table-container"],[1,"table","table-striped","table-bordered","align-middle"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","text-center mt-5",4,"ngIf"],[1,"text-truncate",3,"title"],[1,"btn","btn-outline-primary","btn-sm","action-btn",3,"click"],[1,"bi","bi-eye"],[1,"bi","bi-image"],[1,"btn","btn-outline-secondary","btn-sm","action-btn",3,"click"],[1,"bi","bi-play-circle"],["class","badge bg-success",4,"ngIf"],["class","badge bg-warning text-dark",4,"ngIf"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-sm","btn-light","dropdown-toggle","action-btn"],[1,"bi","bi-three-dots-vertical"],[1,"dropdown-menu"],[1,"dropdown-item","text-danger",3,"click"],[1,"bi","bi-x-circle-fill"],[1,"badge","bg-success"],[1,"badge","bg-warning","text-dark"],[1,"dropdown-item","text-success",3,"click"],[1,"bi","bi-check-circle-fill"],[1,"text-center","mt-5"]],template:function(e,o){e&1&&(u(0,lt,1,0,"app-spinner",0),t(1,"div",1)(2,"div",2)(3,"h3",3),a(4,"Product Listings"),n(),t(5,"p",4),a(6," Manage your Approved, Rejected, and all products in one place. "),n()(),t(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8),E("ngModelChange",function(c){return I(o.searchText,c)||(o.searchText=c),c}),n(),t(11,"button",9),p("click",function(){return o.onFilterChange()}),a(12,"Search"),n()()(),t(13,"div",10)(14,"select",11),E("ngModelChange",function(c){return I(o.filterStatus,c)||(o.filterStatus=c),c}),p("change",function(){return o.onFilterChange()}),t(15,"option",12),a(16,"All Status"),n(),t(17,"option",13),a(18,"Approved"),n(),t(19,"option",14),a(20,"Pending"),n()()()(),t(21,"div",15)(22,"table",16)(23,"thead",17)(24,"tr")(25,"th"),a(26,"ID"),n(),t(27,"th"),a(28,"Name"),n(),t(29,"th"),a(30,"Description"),n(),t(31,"th"),a(32,"Images"),n(),t(33,"th"),a(34,"Video"),n(),t(35,"th"),a(36,"Approval"),n(),t(37,"th"),a(38,"Min Price"),n(),t(39,"th"),a(40,"Max Price"),n(),t(41,"th"),a(42,"Actions"),n()()(),t(43,"tbody"),u(44,pt,35,13,"tr",18),n()()()(),u(45,mt,2,0,"div",19)),e&2&&(d("ngIf",o.loading),l(10),A("ngModel",o.searchText),l(4),A("ngModel",o.filterStatus),l(30),d("ngForOf",o.products),l(),d("ngIf",!o.products.length&&!o.loading))},dependencies:[v,S,M,Pe,We,Be,Le,je,Ve,Ge,Q,Ke,Ye,w,B,L,R,V,U,H,z,qe],styles:[".container-fluid[_ngcontent-%COMP%]{max-width:1200px;margin:auto}.filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;align-items:center}.search-box[_ngcontent-%COMP%], .status-dropdown[_ngcontent-%COMP%]{flex:1;min-width:200px}.table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;white-space:nowrap}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:8px;vertical-align:middle;font-size:14px}.table[_ngcontent-%COMP%]   td.text-truncate[_ngcontent-%COMP%]{max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.action-btn[_ngcontent-%COMP%]{min-width:80px;font-size:12px;padding:5px 8px}.dropdown-menu[_ngcontent-%COMP%]{min-width:130px}.badge[_ngcontent-%COMP%]{padding:4px 10px;font-size:11px}@media (max-width: 992px){.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;padding:6px}.action-btn[_ngcontent-%COMP%]{font-size:11px;padding:4px 6px}.badge[_ngcontent-%COMP%]{font-size:10px;padding:3px 8px}}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:5px}.action-btn[_ngcontent-%COMP%]{font-size:10px;padding:3px 5px}.badge[_ngcontent-%COMP%]{font-size:9px;padding:2px 6px}}"]})};var ge=(r,i)=>{let e=F(N),o=F(K),s=F(P),c=localStorage.getItem("token");return c?o.isLoggedIn()?o.getUserRole(c)==="admin"?!0:(s.error("You don't have permission\u274C"),e.navigate(["/Unauthorized"]),!1):(e.navigate(["/auth/login"]),!1):(e.navigate(["/auth/login"]),!1)};var ut=r=>({active:r});function gt(r,i){r&1&&m(0,"app-spinner")}function ht(r,i){if(r&1){let e=y();t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),n(),t(5,"td"),a(6),n(),t(7,"td"),a(8),n(),t(9,"td"),a(10),n(),t(11,"td")(12,"a",26),p("click",function(){let s=_(e).$implicit,c=g();return b(c.toggle(s.id))}),a(13),n()()()}if(r&2){let e=i.$implicit,o=i.index,s=g();l(2),f((s.pageNumber-1)*s.pageSize+o+1),l(2),f(e.userName),l(2),f(e.role),l(2),f(e.email),l(2),f(e.phoneNumber),l(2),d("ngClass",e.isDisable?"active":"inactive"),l(),O(" ",e.isDisable?"Active":"Inactive"," ")}}function ft(r,i){r&1&&(t(0,"td",27),a(1,"Cannot find user"),n())}function _t(r,i){if(r&1){let e=y();t(0,"button",28),p("click",function(){let s=_(e).$implicit,c=g();return b(c.goToPage(s))}),a(1),n()}if(r&2){let e=i.$implicit,o=g();d("ngClass",Me(2,ut,e===o.pageNumber)),l(),O(" ",e," ")}}var ne=class r{constructor(i){this.userService=i}users=[];pageNumber=1;pageSize=10;totalCount=0;totalPagesArray=[];searchTerm="";Math=Math;selectedRole="";selectedStatus="";activeUser=0;inactiveUser=0;loading=!1;ngOnInit(){this.loadUsers()}loadUsers(){try{this.loading=!0,this.userService.getUsers(this.pageNumber,this.pageSize,this.searchTerm,this.selectedRole,this.selectedStatus).subscribe(i=>{this.users=i.users,this.activeUser=i.activeUserCount,this.inactiveUser=i.inactiveUserCount,console.log(this.activeUser,this.inactiveUser),this.totalCount=i.totalCount;let e=Math.ceil(this.totalCount/this.pageSize);this.totalPagesArray=Array.from({length:e},(o,s)=>s+1),this.loading=!1})}catch{this.loading=!1}}searchUsers(){this.pageNumber=1,this.loadUsers()}goToPage(i){this.pageNumber=i,this.loadUsers()}prevPage(){this.pageNumber>1&&(this.pageNumber--,this.loadUsers())}nextPage(){this.pageNumber<this.totalPagesArray.length&&(this.pageNumber++,this.loadUsers())}toggle(i){this.userService.toggleDisable(i).subscribe(()=>this.loadUsers())}editUser(i){console.log("Edit user:",i)}static \u0275fac=function(e){return new(e||r)(h(k))};static \u0275cmp=C({type:r,selectors:[["app-user-managment"]],decls:56,vars:13,consts:[[1,"user-table-container","p-4"],[4,"ngIf"],[1,"p-4"],[1,"fw-bold","mb-1","fs-4"],[1,"text-muted","mb-2","mb-md-0","fs-6"],[1,"search-box","mb-3","row"],[1,"col-sm-5","d-flex","mt-1"],["type","text","placeholder","Search by username",1,"form-control",3,"ngModelChange","ngModel"],[1,"searchBtn",3,"click"],[1,"col-sm-7","mt-1","d-flex","justify-content-center"],[1,""],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","Buyer"],["value","Seller"],[1,"mx-2"],["value","inactive"],["value","active"],[1,"user-table"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"pagination-controls"],[1,"pagination-info"],[1,"pagination-buttons"],[3,"click","disabled"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"toggle-link",3,"click","ngClass"],[1,"text-danger"],[3,"click","ngClass"]],template:function(e,o){e&1&&(t(0,"div",0),u(1,gt,1,0,"app-spinner",1),t(2,"div",2)(3,"h3",3),a(4,"Manage Users"),n(),t(5,"p",4),a(6,"Manage your User, Ative, InActive, and all user in one place."),n()(),t(7,"div",5)(8,"div",6)(9,"input",7),E("ngModelChange",function(c){return I(o.searchTerm,c)||(o.searchTerm=c),c}),n(),t(10,"button",8),p("click",function(){return o.searchUsers()}),a(11,"Search"),n()(),t(12,"div",9)(13,"div",10)(14,"select",11),E("ngModelChange",function(c){return I(o.selectedRole,c)||(o.selectedRole=c),c}),p("ngModelChange",function(){return o.searchUsers()}),t(15,"option",12),a(16,"All Roles"),n(),t(17,"option",13),a(18,"Buyer"),n(),t(19,"option",14),a(20,"Seller"),n()()(),t(21,"div",15)(22,"select",11),E("ngModelChange",function(c){return I(o.selectedStatus,c)||(o.selectedStatus=c),c}),p("ngModelChange",function(){return o.searchUsers()}),t(23,"option",12),a(24,"All Status"),n(),t(25,"option",16),a(26,"Active"),n(),t(27,"option",17),a(28,"Inactive"),n()()()()(),t(29,"table",18)(30,"thead")(31,"tr")(32,"th"),a(33,"Sr No."),n(),t(34,"th"),a(35,"UserName"),n(),t(36,"th"),a(37,"Role"),n(),t(38,"th"),a(39,"Email"),n(),t(40,"th"),a(41,"Phone"),n(),t(42,"th"),a(43,"Action"),n()()(),t(44,"tbody"),u(45,ht,14,7,"tr",19),n()(),u(46,ft,2,0,"td",20),t(47,"div",21)(48,"div",22),a(49),n(),t(50,"div",23)(51,"button",24),p("click",function(){return o.prevPage()}),a(52,"Prev"),n(),u(53,_t,2,4,"button",25),t(54,"button",24),p("click",function(){return o.nextPage()}),a(55,"Next"),n()()()()),e&2&&(l(),d("ngIf",o.loading),l(8),A("ngModel",o.searchTerm),l(5),A("ngModel",o.selectedRole),l(8),A("ngModel",o.selectedStatus),l(23),d("ngForOf",o.users),l(),d("ngIf",!o.users.length),l(3),ye(" ",o.pageSize," per page \u2022 ",(o.pageNumber-1)*o.pageSize+1," - ",o.Math.min(o.pageNumber*o.pageSize,o.totalCount)," of ",o.totalCount," "),l(2),d("disabled",o.pageNumber===1),l(2),d("ngForOf",o.totalPagesArray),l(),d("disabled",o.pageNumber===o.totalPagesArray.length))},dependencies:[v,Se,S,M,w,B,L,R,V,U,H,z],styles:[".user-table-container[_ngcontent-%COMP%]{padding:20px;max-width:100%;overflow-x:auto;min-height:500px}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-family:Segoe UI,sans-serif;font-size:14px}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:10px;color:#444;font-weight:600;border-bottom:2px solid #eee}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eaeaea}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#d1f5e5;color:#2e8b57}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{background-color:#fddede;color:#c0392b}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .edit-link[_ngcontent-%COMP%], .user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]{color:#3498db;cursor:pointer;text-decoration:none}.user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .edit-link[_ngcontent-%COMP%]:hover, .user-table-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:15px;flex-wrap:wrap}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:13px;color:#666}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]{display:flex;gap:6px;margin-top:10px}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ddd;background-color:#fff;cursor:pointer;border-radius:4px;transition:background-color .2s ease}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active):not(:disabled){background-color:#f0f0f0}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.user-table-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-bottom:16px;gap:10px}.filter-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;width:220px;border:1px solid #ccc;border-radius:6px}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]{display:flex;gap:10px}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;background:#f1f1f1;border:1px solid #ccc;border-radius:6px;cursor:pointer;font-weight:500;transition:all .2s}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}.filter-bar[_ngcontent-%COMP%]   .status-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background-color:#e8e8e8}.toggle-link[_ngcontent-%COMP%]{padding:4px 12px;font-size:16px;border-radius:22px}.user-dashboard-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%], .user-dashboard-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .select-filter[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ccc;border-radius:6px}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e0e0e0}.user-dashboard-container[_ngcontent-%COMP%]   .user-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#888;padding:1rem}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link.active[_ngcontent-%COMP%]{color:green}.user-dashboard-container[_ngcontent-%COMP%]   .toggle-link.inactive[_ngcontent-%COMP%]{color:red}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem .75rem;border:none;background:#f1f1f1;cursor:pointer;border-radius:4px}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.user-dashboard-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0}.searchBtn[_ngcontent-%COMP%]{padding:2px 7px;border:none;border-radius:0;color:#fff;background-color:#2e8b57}@media (max-width: 769px){.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:11px}}.user-table[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}"]})};function bt(r,i){r&1&&m(0,"app-spinner")}function Ct(r,i){if(r&1&&m(0,"img",11),r&2){let e=g();d("src",e.imageSrc,re)}}function vt(r,i){r&1&&(t(0,"div",12),a(1,"+"),n())}function yt(r,i){if(r&1){let e=y();t(0,"div",17)(1,"div",18)(2,"a",19),p("click",function(){let s=_(e).$implicit,c=g(2);return b(c.deleteBanner(s.id))}),m(3,"i",20),n()(),m(4,"img",21),n()}if(r&2){let e=i.$implicit,o=g(2);l(4),d("src",o.imageUrl+e.filePath,re)}}function Mt(r,i){if(r&1&&(t(0,"div",13)(1,"p",14),a(2),n(),t(3,"p",15),a(4,' "Your banners, your brand\u2014manage them effortlessly. Showcase stunning visuals, update with ease. Organize, upload, and refresh your banners in a click!" '),n(),u(5,yt,5,1,"div",16),n()),r&2){let e=g();l(2),O("Total banner (",e.banners.length,")"),l(3),d("ngForOf",e.banners)}}function xt(r,i){r&1&&(t(0,"p",22),a(1,"No banners available."),n())}var ie=class r{constructor(i,e){this.adminservice=i;this.toast=e}imageSrc=null;imageUrl=`${W.imageUrl}/`;previewFile(i){let e=i.target.files?.[0];if(e){this.selectedFile=e;let o=new FileReader;o.onload=s=>{this.imageSrc=s.target.result},o.readAsDataURL(e)}}banners=[];loading=!1;selectedFile=null;ngOnInit(){this.loadBanners()}onUpload(i){if(!this.selectedFile){this.toast.error("Please select a file first!");return}this.loading=!0,this.adminservice.uploadBanner(this.selectedFile).subscribe(e=>{this.toast.success("File uploaded successfully"),i.value="",this.imageSrc=null,this.selectedFile=null,this.loadBanners(),this.loading=!1},e=>{this.loading=!1,this.toast.error("Error uploading file")})}loadBanners(){this.loading=!0,this.adminservice.getAllBanners().subscribe({next:i=>{this.banners=i.data.reverse(),this.loading=!1},error:i=>{this.loading=!1}})}deleteBanner(i){confirm("Are you sure you want to delete this banner?")&&this.adminservice.deleteBanner(i).subscribe({next:()=>{this.banners=this.banners.filter(e=>e.id!==i),this.toast.success("Banner deleted successfully"),this.loadBanners()},error:e=>{this.toast.success("Failed to delete banner")}})}static \u0275fac=function(e){return new(e||r)(h(k),h(P))};static \u0275cmp=C({type:r,selectors:[["app-banner"]],decls:12,vars:5,consts:[["fileInput",""],[4,"ngIf"],[1,"upload-container"],["for","fileInput",1,"upload-box"],["alt","Uploaded Image","class","preview-img",3,"src",4,"ngIf"],["id","plusSign",4,"ngIf"],["type","file","id","fileInput","accept","image/*",1,"file-input",3,"change"],[1,"browse-btn",3,"click"],[1,"mt-1"],["class"," image-container ",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],["alt","Uploaded Image",1,"preview-img",3,"src"],["id","plusSign"],[1,"image-container"],[1,"text-end","fw-bold"],[1,"banner-quote"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"d-flex","justify-content-end","p-1"],[1,"delete-btn",3,"click"],[1,"fa","fa-trash"],["alt","Uploaded Image",1,"img-fluid","banner-img",3,"src"],[1,"text-center","mt-3"]],template:function(e,o){if(e&1){let s=y();u(0,bt,1,0,"app-spinner",1),t(1,"div",2)(2,"label",3),u(3,Ct,1,1,"img",4)(4,vt,2,0,"div",5),n(),t(5,"input",6,0),p("change",function(G){return _(s),b(o.previewFile(G))}),n(),t(7,"button",7),p("click",function(){_(s);let G=le(6);return b(o.onUpload(G))}),a(8,"Add Banner"),n()(),t(9,"div",8),u(10,Mt,6,2,"div",9),n(),u(11,xt,2,0,"p",10)}e&2&&(d("ngIf",o.loading),l(3),d("ngIf",o.imageSrc),l(),d("ngIf",!o.imageSrc),l(6),d("ngIf",o.banners.length>0),l(),d("ngIf",o.banners.length===0&&!o.loading))},dependencies:[v,S,M,z],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;text-align:center;padding:10px}.upload-box[_ngcontent-%COMP%]{width:100%;height:36vh;border:2px dashed gray;background-color:#f8f9fa;display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative;overflow:hidden}.preview-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0}#plusSign[_ngcontent-%COMP%]{font-size:24px;color:gray}.file-input[_ngcontent-%COMP%]{display:none}.browse-btn[_ngcontent-%COMP%]{width:100%;background-color:#002147;color:#fff;border:none;padding:10px;cursor:pointer;font-size:16px}.browse-btn[_ngcontent-%COMP%]:hover{color:gray}.image-container[_ngcontent-%COMP%]{width:100%;padding:0rem .4rem}.image-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:18px}.banner-img[_ngcontent-%COMP%]{width:100%;max-height:36vh;display:block;border-radius:8px}.delete-btn[_ngcontent-%COMP%]{border:none;font-size:35px;color:#ea4906;cursor:pointer;margin:0;padding:0}.banner-quote[_ngcontent-%COMP%]{font-size:18px;font-style:italic;color:#333;text-align:center;line-height:1.6;margin-top:15px}.delete-btn[_ngcontent-%COMP%]:hover{font-size:40px}"]})};var Ot=[{path:"",component:Z,canActivate:[ge],canActivateChild:[ge],children:[{path:"",component:ee},{path:"add-category",component:$},{path:"user/management",component:ne},{path:"product/display",component:te},{path:"banner",component:ie},{path:"",redirectTo:"home",pathMatch:"full"}]}],oe=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=D({type:r});static \u0275inj=T({imports:[se.forChild(Ot),se]})};var $e=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=D({type:r});static \u0275inj=T({imports:[v,oe]})};export{$e as AdminModule};
